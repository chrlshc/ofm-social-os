# Configuration Staging - OFM Payments
# Environment permissif pour développement et tests

# Environment
APP_ENV=staging

# PAYMENT FEATURE GATES - ACTIVÉ EN STAGING
PAYMENTS_ENABLED=true               # ✅ Activé en staging
PAYMENTS_CANARY_PERCENT=100         # ✅ 100% en staging
PAYMENTS_KILL_SWITCH=0              # ✅ Kill-switch désactivé

# STRIPE CONFIGURATION - MODE TEST
STRIPE_MODE=test                    # ✅ Toujours test en staging
STRIPE_SECRET_KEY=sk_test_staging_key
STRIPE_WEBHOOK_SECRET=whsec_test_staging_key

# DATABASE
DATABASE_URL=postgresql://user:pass@staging-db/payments_db

# SECURITY (clés moins strictes pour staging)
FLASK_SECRET_KEY=staging-secret-key
JWT_SECRET_KEY=staging-jwt-key

# FRONTEND URLS
FRONTEND_URL=https://staging.your-domain.com
ADMIN_URL=https://admin-staging.your-domain.com

# MONITORING
ENABLE_METRICS=true
PROMETHEUS_PORT=9090

# LOGGING
LOG_LEVEL=DEBUG
LOG_FILE=/var/log/ofm-payments/staging.log

# REDIS
REDIS_URL=redis://redis-staging:6379/0

# RATE LIMITING (plus permissif)
RATE_LIMIT_STORAGE_URL=redis://redis-staging:6379/1